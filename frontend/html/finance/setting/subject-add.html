<div class="bjui-pageContent">
    <form class="datagrid-edit-form" data-toggle="ajaxform" id="add-form">
        <div class="bjui-row col-1">
            <label class="row-label">上级科目:</label>
            <div class="row-input">
                <select name="pid" data-toggle="selectpicker" data-width="100%" data-dataurl="/httpaccess/financeSubject/list?level=1" data-optiontype="id,subject">
				</select>
            </div>
            <label class="row-label">科目名称:</label>
            <div class="row-input required">
                 <input type="text" name="subject" data-rule="required">
            </div>
        </div>
    </form>
</div>
<div class="bjui-pageFooter">
    <div class="c-bottom-button">
        <li><button type="button" class="btn-blue" data-icon="save" onclick="finance_subject_add.save()">保存</button></li>
        <li><button type="button" class="btn-close" data-icon="close">取消</button></li>
    </div>
</div>
<script type="text/javascript">
    var finance_subject_add = {
		init: function() {
			clz.CurrentDom_init({
				current: 'Dialog',
				url: config.openBasePath + 'financeSubject/add',
				form_name: 'add-form'
			})
		},
		save: function() {
			if($.CurrentDialog.find('#add-form').isValid()){
	            BJUI.ajax('doajax', {
	                url: config.openBasePath + 'financeSubject/add',
	                loadingmask: true,
	                data :  $.CurrentDialog.find('#add-form').serializeArray(),
	                okCallback: function(json, options) {
	                    BJUI.dialog('closeCurrent');
	                }
	            });
	        };
		}
	}
    finance_subject_add.init();
</script>